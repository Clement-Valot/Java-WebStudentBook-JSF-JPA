<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
	  xmlns:h="http://xmlns.jcp.org/jsf/html" 
	  xmlns:f="http://xmlns.jcp.org/jsf/core">
	  
	<f:metadata>
		<f:event type="preRenderView" listener="#{studentManager.loadStudents()}"/> 
	</f:metadata>
	
	<h:head>
	  <title><ui:insert name="title">List of Students</ui:insert></title>
	</h:head>
	
	<h:body>
		<h:outputStylesheet library="css" name="style.css"/> 
		<div id="wrapper">
			<div id="header">
				<h2>List of Students</h2>
		    </div>
		</div>
		<div id="container"> 
			<div id="content">
				<h:form>
					<h:dataTable border="1" value="#{studentManager.list_students}" var="tempStudent">
						<h:column>
						        <f:facet name="header">ID</f:facet>
						        #{tempStudent.id}
						</h:column>
						<h:column>
						        <f:facet name="header">Last name</f:facet>
						        #{tempStudent.last_Name}
						</h:column>
						<h:column>
						        <f:facet name="header">First name</f:facet>
						        #{tempStudent.first_Name}
						</h:column>
						<h:column>
						        <f:facet name="header">Email</f:facet>
						        #{tempStudent.email}
						</h:column>
						<h:column>
						    	<f:facet name="header">Action</f:facet>
						    		<h:commandButton action="#{studentManager.loadStudent(tempStudent.id)}" value="Edit"></h:commandButton>
						    		<h:commandButton action="#{studentManager.deleteStudent(tempStudent.id)}" value="Delete"></h:commandButton>
						</h:column>
					</h:dataTable>
					<br/>
					<h:commandButton action="Add-student" value="Add new student"></h:commandButton>
				</h:form>
			</div>
		</div>
	</h:body>

</html>
